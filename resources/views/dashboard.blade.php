@extends('layouts.app')
@section('content')
    <div class="px-4 pt-6 h-screen">
        <div class="grid grid-cols-2 sm:grid-cols-2 md:grid-cols-4 lg:grid-cols-4 gap-4">
            {{--    Total Employee  --}}
            <div
                class="mb-4  items-center  justify-between  bg-gradient-to-r from-[#e0f4ff] border border-gray-200 rounded-lg shadow-sm sm:flex dark:border-gray-700  dark:from-[#1a202c] dark:to-[#2d3748]">
                <div class="w-full flex flex-col items-center py-6">
                    <div>

                        <svg class="w-10 h-10 md:w-12 md:h-12" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg"
                            xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 512 512" xml:space="preserve">
                            <path style="fill:#DC85A6;"
                                d="M256,0c-57.989,0-105.165,47.178-105.165,105.165c0,57.989,47.176,105.165,105.165,105.165  s105.165-47.176,105.165-105.165C361.165,47.178,313.989,0,256,0z" />
                            <path style="fill:#D6E5F6;"
                                d="M256,260.609c-106.273,0-192.733,86.462-192.733,192.733c0,13.885,11.256,25.139,25.139,25.139  h335.188c13.883,0,25.139-11.254,25.139-25.139C448.733,347.071,362.273,260.609,256,260.609z" />
                            <path style="fill:#A4C6EC;"
                                d="M256,260.609v217.872h167.594c13.883,0,25.139-11.254,25.139-25.139  C448.733,347.071,362.273,260.609,256,260.609z" />
                            <path style="fill:#1D3366;"
                                d="M256,260.609c-13.883,0-25.139,11.257-25.139,25.139v201.113C230.861,500.746,242.117,512,256,512  s25.139-11.254,25.139-25.139V285.748C281.139,271.866,269.883,260.609,256,260.609z" />
                            <path style="fill:#CE5C82;"
                                d="M256,0v210.331c57.989,0,105.165-47.176,105.165-105.165C361.165,47.178,313.989,0,256,0z" />
                        </svg>
                    </div>
                    <h2 class="text-l md:text-xl mt-3 font-semibold text-sky-700 dark:text-white">Total Employee</h2>
                    <div class="w-8 h-8 mt-3 bg-sky-500 rounded-full flex items-center justify-center">
                        <h2 class=" text-xl md:2xl font-bold text-white dark:text-white">{{ $totalEmployees }}</h2>
                    </div>
                </div>
            </div>
            {{--    Total Employee  --}}
            {{--    Total Expense  --}}
            <div
                class="mb-4 w-full items-center  justify-between  bg-gradient-to-r from-[#e0f4ff] border border-gray-200 rounded-lg shadow-sm sm:flex dark:border-gray-700  dark:from-[#1a202c] dark:to-[#2d3748]">
                <div class="w-full flex flex-col items-center py-6">
                    <div>
                        <svg class="w-10 h-10 md:w-12 md:h-12" version="1.1" id="Layer_1"
                            xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
                            viewBox="0 0 512 512" xml:space="preserve">
                            <path style="fill:#00D2FF;"
                                d="M432.274,135.587L256,282.483L90.528,123.63c-39.615,41.234-64.045,97.154-64.045,158.852  C26.483,409.241,129.241,512,256,512s229.517-102.759,229.517-229.517C485.517,226.584,465.489,175.394,432.274,135.587z" />
                            <path style="fill:#9BE6D2;"
                                d="M90.475,123.58L256,282.483V52.966C190.936,52.966,132.242,80.084,90.475,123.58z" />
                            <path style="fill:#C3E678;"
                                d="M456.815,82.622l0.012-0.046C414.726,32.12,351.392,0,280.541,0v229.517L456.815,82.622z" />
                            <path style="fill:#18BDF6;"
                                d="M308.966,476.69c-126.759,0-229.517-102.759-229.517-229.517c0-39.125,9.815-75.948,27.079-108.184  L90.528,123.63c-39.615,41.234-64.045,97.154-64.045,158.852C26.483,409.241,129.241,512,256,512  c58.449,0,111.763-21.884,152.285-57.86C378.229,468.59,344.544,476.69,308.966,476.69z" />
                            <path style="fill:#78D2BE;"
                                d="M156.452,75.713c-24.787,11.972-47.119,28.228-65.976,47.866l16.051,15.41  C119.356,115.032,136.318,93.635,156.452,75.713z" />
                        </svg>
                    </div>
                    <h2 class="text-l md:text-xl mt-3 font-semibold text-sky-700 dark:text-white">Total Expenses In</h2>
                    <h2 class="text-l md:text-xl mt-3 font-semibold text-sky-700 dark:text-white">{{ now()->format('M Y') }}
                    </h2>

                    <div class="py-1 px-3 bg-sky-500 mt-3 rounded-md">
                        <h2 class="text-xl md:2xl font-bold  text-white dark:text-white">
                            @if ($totalAmountCurrentMonth)
                                {{ $totalAmountCurrentMonth }}
                            @else
                                0.00
                            @endif
                        </h2>
                    </div>
                </div>
            </div>
            {{--    Total Expense  --}}


            {{--    Total Attendance  --}}
            <div
                class="mb-4 w-full items-center  justify-between  bg-gradient-to-r from-[#e0f4ff] border border-gray-200 rounded-lg shadow-sm sm:flex dark:border-gray-700  dark:from-[#1a202c] dark:to-[#2d3748]">
                <div class="w-full flex flex-col items-center py-6">
                    <svg class="w-10 h-10 md:w-12 md:h-12" viewBox="0 0 1024 1024" class="icon" version="1.1"
                        xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M241.371429 548.571429a358.4 285.257143 90 1 0 570.514285 0 358.4 285.257143 90 1 0-570.514285 0Z"
                            fill="#F4B1B2" />
                        <path
                            d="M58.514286 526.628571c-14.628571 0-21.942857-14.628571-21.942857-29.257142 0-36.571429 14.628571-117.028571 65.828571-204.8 7.314286-14.628571 21.942857-14.628571 36.571429-7.314286s21.942857 29.257143 7.314285 36.571428c-43.885714 87.771429-58.514286 153.6-58.514285 182.857143 0 14.628571-14.628571 21.942857-29.257143 21.942857zM160.914286 285.257143c-7.314286 0-14.628571 0-14.628572-7.314286-14.628571-7.314286-14.628571-29.257143-7.314285-36.571428 51.2-65.828571 117.028571-117.028571 182.857142-153.6 14.628571-7.314286 29.257143 0 36.571429 14.628571 7.314286 14.628571 0 29.257143-14.628571 36.571429-58.514286 29.257143-109.714286 73.142857-160.914286 131.657142 0 7.314286-7.314286 14.628571-21.942857 14.628572zM424.228571 109.714286c-14.628571 0-21.942857-7.314286-29.257142-21.942857 0-14.628571 7.314286-29.257143 21.942857-36.571429 43.885714-14.628571 95.085714-14.628571 146.285714-14.628571 21.942857 7.314286 29.257143 21.942857 29.257143 36.571428s-14.628571 29.257143-29.257143 29.257143c-43.885714-7.314286-87.771429-7.314286-138.971429 7.314286 7.314286 0 7.314286 0 0 0zM775.314286 160.914286c-7.314286 0-7.314286 0-14.628572-7.314286-43.885714-29.257143-95.085714-43.885714-146.285714-58.514286-7.314286 7.314286-21.942857-7.314286-14.628571-21.942857 0-14.628571 14.628571-21.942857 29.257142-21.942857 58.514286 14.628571 109.714286 29.257143 160.914286 65.828571 14.628571 7.314286 14.628571 21.942857 7.314286 36.571429 0 7.314286-14.628571 7.314286-21.942857 7.314286zM994.742857 599.771429c-14.628571 0-29.257143-14.628571-29.257143-29.257143-7.314286-160.914286-58.514286-285.257143-146.285714-365.714286-14.628571-7.314286-14.628571-29.257143 0-36.571429 7.314286-14.628571 29.257143-14.628571 36.571429 0 95.085714 87.771429 153.6 226.742857 160.914285 402.285715 7.314286 14.628571-7.314286 29.257143-21.942857 29.257143z"
                            fill="#D72822" />
                        <path
                            d="M826.514286 914.285714h-7.314286c-14.628571-7.314286-21.942857-21.942857-14.628571-36.571428 0 0 14.628571-43.885714 36.571428-131.657143 21.942857-87.771429 7.314286-204.8 7.314286-204.8 0-124.342857-73.142857-241.371429-190.171429-292.571429-14.628571-7.314286-21.942857-21.942857-14.628571-36.571428 7.314286-14.628571 21.942857-21.942857 36.571428-14.628572 131.657143 58.514286 219.428571 190.171429 219.428572 336.457143 0 0 14.628571 124.342857-7.314286 219.428572-21.942857 95.085714-43.885714 138.971429-43.885714 138.971428-7.314286 14.628571-14.628571 21.942857-21.942857 21.942857zM336.457143 277.942857c-7.314286 0-14.628571-7.314286-21.942857-14.628571-7.314286-7.314286 0-21.942857 7.314285-29.257143 80.457143-58.514286 175.542857-80.457143 270.628572-58.514286 14.628571 0 21.942857 14.628571 21.942857 29.257143s-14.628571 21.942857-29.257143 21.942857c-80.457143-14.628571-160.914286 0-226.742857 51.2h-21.942857zM65.828571 694.857143c-14.628571 0-21.942857-7.314286-29.257142-21.942857 0-14.628571 7.314286-29.257143 21.942857-29.257143 0 0 29.257143-7.314286 58.514285-36.571429 21.942857-21.942857 43.885714-58.514286 51.2-73.142857 0-80.457143 29.257143-160.914286 80.457143-226.742857 7.314286-14.628571 29.257143-21.942857 36.571429-7.314286 14.628571 7.314286 14.628571 21.942857 7.314286 36.571429-43.885714 58.514286-73.142857 124.342857-73.142858 197.485714v7.314286c0 7.314286-21.942857 73.142857-65.828571 102.4-43.885714 36.571429-80.457143 51.2-80.457143 51.2H65.828571z"
                            fill="#D72822" />
                        <path
                            d="M124.342857 789.942857c-7.314286 0-14.628571-7.314286-21.942857-14.628571-7.314286-14.628571-7.314286-29.257143 7.314286-36.571429 0 0 95.085714-65.828571 124.342857-87.771428 7.314286-7.314286 29.257143-43.885714 36.571428-80.457143 0-58.514286 36.571429-160.914286 73.142858-204.8 0 0 14.628571-21.942857 51.2-43.885715 29.257143-14.628571 65.828571-29.257143 102.4-29.257142 14.628571-7.314286 29.257143 0 29.257142 14.628571s-7.314286 29.257143-21.942857 29.257143c-29.257143 0-51.2 7.314286-73.142857 21.942857-29.257143 21.942857-43.885714 36.571429-43.885714 36.571429-29.257143 36.571429-65.828571 131.657143-65.828572 182.857142V585.142857c-7.314286 21.942857-29.257143 87.771429-58.514285 117.028572-21.942857 14.628571-117.028571 80.457143-124.342857 87.771428h-14.628572zM702.171429 438.857143c-7.314286 0-14.628571 0-21.942858-7.314286-21.942857-36.571429-58.514286-65.828571-102.4-80.457143-14.628571-7.314286-21.942857-21.942857-14.628571-36.571428 0-14.628571 21.942857-21.942857 36.571429-14.628572 51.2 21.942857 102.4 58.514286 131.657142 95.085715 7.314286 14.628571 7.314286 29.257143-7.314285 36.571428-7.314286 7.314286-14.628571 7.314286-21.942857 7.314286zM724.114286 716.8s-7.314286 0 0 0c-21.942857-7.314286-29.257143-21.942857-29.257143-36.571429 7.314286-21.942857 7.314286-36.571429 14.628571-43.885714 7.314286-29.257143 7.314286-95.085714 7.314286-95.085714 0-14.628571 0-36.571429-7.314286-51.2 0-14.628571 7.314286-29.257143 21.942857-36.571429 14.628571-7.314286 29.257143 7.314286 36.571429 21.942857 7.314286 21.942857 7.314286 43.885714 7.314286 65.828572 0 0-7.314286 73.142857-7.314286 102.4 0 7.314286-7.314286 21.942857-7.314286 43.885714-14.628571 14.628571-21.942857 29.257143-36.571428 29.257143z"
                            fill="#D72822" />
                        <path
                            d="M665.6 928.914286H658.285714c-14.628571-7.314286-21.942857-21.942857-14.628571-36.571429 0 0 21.942857-80.457143 43.885714-153.6 0-14.628571 21.942857-21.942857 36.571429-21.942857s21.942857 14.628571 21.942857 36.571429c-14.628571 73.142857-43.885714 153.6-43.885714 153.6-14.628571 14.628571-21.942857 21.942857-36.571429 21.942857z"
                            fill="#D72822" />
                        <path
                            d="M548.571429 936.228571c-21.942857-7.314286-29.257143-21.942857-29.257143-36.571428l80.457143-329.142857c14.628571-43.885714-14.628571-87.771429-58.514286-102.4-43.885714-7.314286-95.085714 21.942857-102.4 65.828571l-73.142857 212.114286-146.285715 117.028571c-14.628571 14.628571-36.571429 14.628571-43.885714 0-7.314286-14.628571-7.314286-29.257143 7.314286-36.571428l138.971428-109.714286 65.828572-190.171429c0-36.571429 29.257143-73.142857 58.514286-87.771428 29.257143-21.942857 73.142857-29.257143 109.714285-14.628572C629.028571 438.857143 680.228571 512 658.285714 592.457143l-80.457143 329.142857c0 7.314286-14.628571 14.628571-29.257142 14.628571z"
                            fill="#D72822" />
                        <path
                            d="M387.657143 943.542857h-14.628572c-14.628571-7.314286-14.628571-21.942857-7.314285-36.571428l80.457143-146.285715 43.885714-204.8c0-14.628571 14.628571-21.942857 29.257143-21.942857s21.942857 14.628571 21.942857 29.257143l-43.885714 219.428571-87.771429 153.6s-14.628571 7.314286-21.942857 7.314286z"
                            fill="#D72822" />
                    </svg>
                    <h2 class="text-l md:text-xl font-semibold text-sky-700 dark:text-white mt-3">Total Present Today</h2>
                    <div class="w-10 h-10 mt-3 bg-sky-500 rounded-full flex items-center justify-center">
                        <h2 class="text-xl md:text-2xl font-bold  text-white dark:text-white">
                            {{ $attendanceCount }}
                        </h2>
                    </div>





                </div>
            </div>
            {{--    Total Expense  --}}
            {{--    Total User  --}}
            <div
                class="mb-4 w-full items-center  justify-between  bg-gradient-to-r from-[#e0f4ff] border border-gray-200 rounded-lg shadow-sm sm:flex dark:border-gray-700  dark:from-[#1a202c] dark:to-[#2d3748]">
                <div class="w-full flex flex-col items-center py-6">
                    <div>

                        <svg class="w-10 h-10 md:w-12 md:h-12" viewBox="0 0 1024 1024" class="icon" version="1.1"
                            xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M691.573 338.89c-1.282 109.275-89.055 197.047-198.33 198.331-109.292 1.282-197.065-90.984-198.325-198.331-0.809-68.918-107.758-68.998-106.948 0 1.968 167.591 137.681 303.31 305.272 305.278C660.85 646.136 796.587 503.52 798.521 338.89c0.811-68.998-106.136-68.918-106.948 0z"
                                fill="#4A5699" />
                            <path
                                d="M294.918 325.158c1.283-109.272 89.051-197.047 198.325-198.33 109.292-1.283 197.068 90.983 198.33 198.33 0.812 68.919 107.759 68.998 106.948 0C796.555 157.567 660.839 21.842 493.243 19.88c-167.604-1.963-303.341 140.65-305.272 305.278-0.811 68.998 106.139 68.919 106.947 0z"
                                fill="#C45FA0" />
                            <path
                                d="M222.324 959.994c0.65-74.688 29.145-144.534 80.868-197.979 53.219-54.995 126.117-84.134 201.904-84.794 74.199-0.646 145.202 29.791 197.979 80.867 54.995 53.219 84.13 126.119 84.79 201.905 0.603 68.932 107.549 68.99 106.947 0-1.857-213.527-176.184-387.865-389.716-389.721-213.551-1.854-387.885 178.986-389.721 389.721-0.601 68.991 106.349 68.933 106.949 0.001z"
                                fill="#E5594F" />
                        </svg>
                    </div>
                    <h2 class="text-l md:xl mt-3 font-semibold text-sky-700 dark:text-white">Total User</h2>
                    <div class="w-10 h-10 mt-3 bg-sky-500 rounded-full flex items-center justify-center">
                        <h2 class=" text-xl md:2xl font-bold text-white dark:text-white">{{ $userCount }}</h2>
                    </div>
                </div>
            </div>
            {{--    Total User  --}}



        </div>
        {{--  Graph --}}
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            {{-- Diff  Block --}}

            <div
                class="p-4  bg-gradient-to-r from-[#e0f4ff] border border-gray-200 rounded-lg shadow-sm dark:border-gray-700 sm:p-6 dark:from-[#1a202c] dark:to-[#2d3748]">
                <div class="w-full ">
                    <h3 class="mb-2 border-b pb-2 text-base font-normal text-gray-500 dark:text-gray-400">

                        Today Late Person</h3>
                    @foreach ($employees as $employee)
                        <div class="flex items-center mb-2">
                            <div class="w-36 text-sm font-medium dark:text-white">
                                {{ $employee->first_name . ' ' . $employee->last_name }}</div>

                            @if ($employee->checkIndate === true)
                                <div class="w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700">
                                    @if ($employee->emploeeTimelyEntry)
                                        <div class="bg-green-600 h-3 py-1 flex items-center justify-center rounded-full dark:bg-sky-500"
                                            style="width: 100%">
                                            <span class="text-[10px] font-bold  text-white">Timely</span>
                                        </div>
                                    @else
                                        <div class="bg-red-600 h-3 py-1 flex items-center justify-center rounded-full dark:bg-sky-500"
                                            style="width: 100%">
                                            @php
                                                $hours = $employee->timeDifference->h;
                                                $minutes = $employee->timeDifference->i;

                                                $timeString = sprintf('%02d:%02d', $hours, $minutes);

                                            @endphp
                                            <span
                                                class="text-[10px] font-bold  text-white">{{ $hours . ' hours ' . $minutes . ' ' }}minutes
                                                late today</span>
                                        </div>
                                    @endif

                                </div>
                            @endif

                        </div>
                    @endforeach


                </div>


            </div>
            {{-- Diff  Block --}}
            <div
                class="p-4  bg-gradient-to-r from-[#e0f4ff] border border-gray-200 rounded-lg shadow-sm dark:border-gray-700 sm:p-6 dark:from-[#1a202c] dark:to-[#2d3748]">
                <div class="w-full  pb-2">
                    <h3 class="mb-2 border-b pb-2 text-base font-normal text-gray-500 dark:text-gray-400">
                        {{ now()->format('M Y') }}
                        Avarage Attend</h3>
                    @foreach ($employees as $employee)
                        <div class="flex items-center mb-2">
                            <div class="w-36 text-sm font-medium dark:text-white">
                                {{ $employee->first_name . ' ' . $employee->last_name }}</div>
                            <div class="w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700">
                                <div class="bg-sky-600 h-2.5 rounded-full dark:bg-sky-500"
                                    style="width: {{ $employee->averageAttendance }}%">
                                    {{-- {{ $employee->attendanceDays }} --}}</div>
                            </div>
                        </div>
                    @endforeach


                </div>


            </div>
            {{-- Diff  Block --}}
            <div
                class="p-4  bg-gradient-to-r from-[#e0f4ff] border border-gray-200 rounded-lg shadow-sm dark:border-gray-700 sm:p-6 dark:from-[#1a202c] dark:to-[#2d3748]">
                <div class="w-full ">
                    <h3 class="mb-2 border-b pb-2 text-base font-normal text-gray-500 dark:text-gray-400">
                        {{ now()->format('M Y') }}
                        Average Entry in Time</h3>
                    @foreach ($employees as $employee)
                        <div class="flex items-center mb-2">
                            <div class="w-36 text-sm font-medium dark:text-white">
                                {{ $employee->first_name . ' ' . $employee->last_name }}</div>
                            <div class="w-full bg-gray-200 rounded-full h-2.5 dark:bg-gray-700">
                                <div class="bg-sky-600 h-2.5 rounded-full dark:bg-sky-500"
                                    style="width: {{ $employee->averageTimelyEntry }}%">
                                    {{-- {{ $employee->attendanceDays }} --}}</div>
                            </div>
                        </div>
                    @endforeach


                </div>


            </div>


            {{--   another --}}


        </div>
        {{--  Graph --}}
    </div>
@endsection
